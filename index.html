<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quest for the One Piece âš“ï¸</title>
  <meta name="description" content="A surprise birthday quest for Rohit." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <canvas id="confetti"></canvas>

  <header class="site-header">
    <div class="badge">ğŸ´â€â˜ ï¸ Birthday Voyage</div>
    <nav>
      <a href="#hero"   data-view="hero">Home</a>
      <a href="#letter" data-view="letter">Letter</a>
      <a href="#quest"  data-view="quest">Quest Log</a>
      <a href="#" id="reset">Reset</a>
    </nav>
  </header>

  <!-- VIEW 1: HERO -->
  <section id="hero" class="hero nautical view active">
    <div class="compass" aria-hidden="true"></div>
    <div class="hero-inner">
      <h1 class="gradient-head">Happy Birthday, <span id="nameSpot">Rohit</span>!</h1>
      <p id="subtitle">Captain, our mission is clear: sail the Grand Line of NYC, clear each island, and claim the <strong>One Piece</strong> at journeyâ€™s end.</p>
      <div class="cta-row">
        <button id="confettiBtn" class="btn primary">Set Sail (Confetti)</button>
        <button id="musicBtn" class="btn ghost">Play Song</button>
        <button id="easterBtn" class="btn ghost" title="Straw Hat Mode">ğŸ‘’ Straw Hat</button>
      </div>
      <div class="meta-line">
        <code class="tag">release: 2025-11-12</code>
        <code class="tag">voyage: 2025-11-15</code>
      </div>
      <div class="countdown" id="midnightMsg">Waiting for birthday midnightâ€¦</div>
      <small class="hint">
        Islands unlock at time + after the previous island is cleared. 
      </small>
    </div>

    <!-- animated waves -->
    <div class="waves">
      <svg viewBox="0 0 1200 120" preserveAspectRatio="none" class="wave wave1">
        <path d="M0,0 C150,100 350,0 600,60 C850,120 1050,20 1200,80 L1200,120 L0,120 Z"></path>
      </svg>
      <svg viewBox="0 0 1200 120" preserveAspectRatio="none" class="wave wave2">
        <path d="M0,0 C200,80 400,20 600,60 C800,100 1000,40 1200,80 L1200,120 L0,120 Z"></path>
      </svg>
    </div>
  </section>

  <!-- VIEW 2: LETTER -->
  <section id="letter" class="wrap view">
    <h2>Open When: Itâ€™s Your Birthday ğŸ’Œ</h2>
    <div class="letter">
      <button id="openLetter" class="btn primary">Open Letter</button>
      <div id="letterBody" class="letter-body" hidden>
        <p>Happy Birthday, Rohit! Youâ€™re brilliant, kind, and endlessly curious â€” and I love how your eyes light up when you explain the nerdiest things. Thank you for the care you put into everything, including building me a website. Today is your day, and I canâ€™t wait to celebrate every part of it with you.</p>
        <p>This voyage is my gift back â€” a little world where youâ€™re the captain. I hope every island makes you feel seen, cheered for, and treasured.</p>
        <p>â€” Farhin ğŸ’™</p>
      </div>
    </div>
  </section>

  <!-- VIEW 3: QUEST -->
  <section id="quest" class="wrap view">
    <h2>Quest Log â€” Islands on the Grand Line</h2>
    <div id="progress" class="progress"><div id="bar"></div></div>
    <div id="steps" class="steps"></div>
    <p class="hint">Locked islands show a live countdown. Clear them in order to chart the next course.</p>
  </section>

  <!-- Final reveal modal (hidden by default; shown via JS class) -->
  <div id="finalModal" class="modal">
    <div class="modal-card">
      <h3>The One Piece has been found! âœ¨</h3>
      <p>At the LIC Piersâ€¦ thereâ€™s one more treasure for you.</p>
      <div class="ring">ğŸ’</div>
      <button id="closeModal" class="btn primary">Aye aye, Captain</button>
    </div>
  </div>

  <footer class="site-footer nautical">
    <div class="waves waves-foot">
      <svg viewBox="0 0 1200 120" preserveAspectRatio="none" class="wave wave1">
        <path d="M0,0 C150,100 350,0 600,60 C850,120 1050,20 1200,80 L1200,120 L0,120 Z"></path>
      </svg>
      <svg viewBox="0 0 1200 120" preserveAspectRatio="none" class="wave wave2">
        <path d="M0,0 C200,80 400,20 600,60 C800,100 1000,40 1200,80 L1200,120 L0,120 Z"></path>
      </svg>
    </div>
    <p>Made with ğŸ’™ by Farhin. <span class="sep">â€¢</span> <a href="#" id="shareLink">Copy link</a></p>
  </footer>

  <audio id="song" src="assets/song.mp3" preload="none"></audio>

  <script>
  /* ---- Site config ---- */
  window.BDAY_CONFIG = {
    name: "Rohit",
    bdayDateEt: "2025-11-15",
    itineraryDateEt: "2025-11-15",
    steps: [
      { id:"roosevelt", timeEt:"11:00", prettyTime:"11:00 AM", title:"Port Roosevelt â€” The Dock of Departure", short:"Where two paths meet.", details:"Every great voyage begins at the dock where fate brings the crew together. Board the sea train to destiny.", mapUrl:"https://maps.app.goo.gl/", icon:"ğŸ—ºï¸" },
      { id:"golden", timeEt:"11:30", prettyTime:"11:30 AM", title:"East Blue Diner â€” Island of Pancakes", short:"Provisions secured.", details:"First island: warm pancakes and laughter. Captain debates waffles vs pancakes once more. ğŸ¥", mapUrl:"https://maps.app.goo.gl/", photo:"assets/photo-1.jpg", icon:"ğŸ¥", clue:"Seek the next challenge in the city of secrets." },
      { id:"cipher", timeEt:"13:30", prettyTime:"1:30 PM", title:"Cipher Isle â€” Puzzles of the Grand Line", short:"Trials for clever pirates.", details:"Only teamwork and sharp minds can pass. Choose your arena: Immersive Gamebox or SPYSCAPE.", mapUrl:"https://maps.app.goo.gl/", photo:"assets/photo-2.jpg", icon:"ğŸ§©", clue:"After trials, the crew debates againâ€¦ waffles or pancakes." },
      { id:"snack", timeEt:"15:45", prettyTime:"3:45 PM", title:"Snack Reef â€” Battle of the Griddles", short:"Sugar + victory.", details:"Refuel at Wafels & Dinges. The debate reignites: pancakes vs waffles. Choose wisely. ğŸ§‡", mapUrl:"https://maps.app.goo.gl/", photo:"assets/photo-3.jpg", icon:"ğŸ§‡", clue:"Forge the vessel that will protect your treasure." },
      { id:"coral", timeEt:"17:00", prettyTime:"5:00 PM", title:"Coral Forge â€” Island of Creation", short:"Make the treasure chest.", details:"At Color Me Mine, craft a small keepsake box â€” the chest that will hold the One Piece.", mapUrl:"https://maps.app.goo.gl/", photo:"assets/photo-4.jpg", icon:"ğŸ¨", clue:"Only one island remainsâ€¦ the place where hearts meet the skyline." },
      { id:"dinner", timeEt:"19:00", prettyTime:"7:00 PM", title:"Harbor Tavern â€” Feast of the Crew", short:"Fuel for the finale.", details:"Under city lights, the captain and first mate dine to celebrate a voyage well-sailed.", mapUrl:"https://maps.app.goo.gl/", photo:"assets/photo-5.jpg", icon:"ğŸ½ï¸", clue:"The final island faces the skyline." },
      { id:"lic", timeEt:"20:30", prettyTime:"8:30 PM", title:"Final Island â€” Grand Treasure of LIC", short:"Skyline + sweetness.", details:"Canelle Bakery cake at Hunterâ€™s Point South Park. The Grand Line ends here â€” claim your treasure.", mapUrl:"https://maps.app.goo.gl/", icon:"ğŸ‚", final:true }
    ]
  };
  </script>
  <script src="script.js"></script>
</body>
</html>

